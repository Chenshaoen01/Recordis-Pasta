{"version":3,"file":"js/495.06dac977.js","mappings":"gLACOA,GAAG,UAAUC,MAAM,wBACvBC,MAAA,qD,GACCC,EAAAA,EAAAA,GAYM,OAZDF,MAAM,mDAAiD,EAC1DE,EAAAA,EAAAA,GAA8F,OAAzFC,IAAAC,EAAsCH,MAAA,+BAAkCI,IAAI,gBACjFH,EAAAA,EAAAA,GAAI,OACJA,EAAAA,EAAAA,GAAmD,QAA7CF,MAAM,4BAA2B,UACvCE,EAAAA,EAAAA,GAAI,OACJA,EAAAA,EAAAA,GAIM,OAJDF,MAAM,WAAWM,KAAK,cAAc,aAAW,mBACnD,gBAAc,KAAK,gBAAc,IAAI,gBAAc,O,EAClDJ,EAAAA,EAAAA,GAC2B,OADtBF,MAAM,kEACVC,MAAA,qB,MARLM,G,0CAFFC,EAAAA,EAAAA,IAeM,MAfNC,EAeM,E,CAIR,OACEC,OACE,MAAO,CACLC,aAAc,GAElB,EACAC,QAAS,CACPC,kBACE,MAAMC,EAAUC,SAASC,eAAe,WACxCF,EAAQG,UAAUC,OAAO,SAC3B,EACAC,kBACE,MAAML,EAAUC,SAASC,eAAe,WACxCF,EAAQG,UAAUG,IAAI,SACxB,I,QC7BJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,+GCDOtB,MAAM,iBAAiBC,MAAA,wB,GAE1BC,EAAAA,EAAAA,GAEI,KAFDF,MAAM,eAAe,WAAS,aAAa,gBAAc,OAAO,oBAAkB,QAAO,eAE5F,G,kNAKEuB,G,GAQGvB,MAAM,iDACX,WAAS,aAAa,gBAAc,OAAO,oBAAkB,Q,GAGpDA,MAAM,+BAA+BC,MAAA,iB,GACnCD,MAAM,sC,aAGNA,MAAM,uC,GACLA,MAAM,c,GACPA,MAAM,a,GAENA,MAAM,SAASC,MAAA,iB,+BAarBD,MAAM,4C,GAGPE,EAAAA,EAAAA,GAAkC,KAA/BF,MAAM,sBAAoB,S,GAA7BwB,G,iBAQAtB,EAAAA,EAAAA,GAAmC,KAAhCF,MAAM,uBAAqB,S,GAA9ByB,G,0JAzDNC,EAAAA,EAAAA,IAAkEC,EAAAA,CAA9CC,IAAI,sBAAoB,WAC5CF,EAAAA,EAAAA,IAA6CG,EAAAA,CAAhCD,IAAI,eAAa,WAC9BF,EAAAA,EAAAA,IACeI,EAAAA,CADDF,IAAI,eAAgBG,gBAAiBC,EAAAA,aAAc/B,MAAA,mB,6BAEjEC,EAAAA,EAAAA,GAwDM,MAxDNO,EAwDM,CAtDJF,GAEI,SAEJL,EAAAA,EAAAA,GASS,UATDF,MAAM,gDAAgDC,MAAA,gBAC5D,aAAW,yBAA0BgC,SAAM,oBAAEC,EAAAA,gBAAAA,EAAAA,kBAAAA,I,qCAAyBF,EAAAA,SAAQ,GAC9E,WAAS,aAAa,gBAAc,OAAO,oBAAkB,Q,cADSA,EAAAA,aAUxE9B,EAAAA,EAAAA,GAuBM,MAvBNiC,EAuBM,gBArBJ3B,EAAAA,EAAAA,IAoBM4B,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAnBLJ,EAAAA,eADsDK,K,WAAvD7B,EAAAA,EAAAA,IAoBM,OApBDR,MAAM,oCACMsC,IAAKD,EAAKtC,I,EACzBG,EAAAA,EAAAA,GAiBM,MAjBNqC,EAiBM,EAhBJrC,EAAAA,EAAAA,GAEM,MAFNsC,EAEM,EADJtC,EAAAA,EAAAA,GAAuD,OAAjDC,IAAKkC,EAAK3B,KAAK+B,SAAUzC,MAAM,QAAQK,IAAI,O,aAEnDH,EAAAA,EAAAA,GAGM,MAHNwC,EAGM,EAFJxC,EAAAA,EAAAA,GAAiD,KAAjDyC,GAAiD,QAAvBN,EAAK3B,KAAKkC,OAAK,IACzC1C,EAAAA,EAAAA,GAA8C,IAA9C2C,GAA8C,QAAtBR,EAAK3B,KAAKoC,OAAK,MAEzC5C,EAAAA,EAAAA,GAQM,MARN6C,EAQM,EAPJ7C,EAAAA,EAAAA,GAE4B,QAFtBF,MAAM,wFACqCgD,QAAK,GAAEC,EAAAA,iBAAiBZ,EAAK3B,KAAKX,IAChFmD,QAAK,oBAAEhB,EAAAA,OAAAA,EAAAA,SAAAA,KAAO,OAAI,OACnBhC,EAAAA,EAAAA,GAGO,QAHDF,MAAM,iEACVgD,QAAK,GAAEC,EAAAA,eAAeZ,EAAK3B,KAAKX,IAAMmD,QAAK,oBAAEhB,EAAAA,MAAAA,EAAAA,QAAAA,KAAM,SAErD,e,SAMVhC,EAAAA,EAAAA,GAaM,MAbNiD,EAaM,CAXsD,IAAhBnB,EAAAA,cAAW,WADrDxB,EAAAA,EAAAA,IAGS,U,MAHD4C,KAAK,SAASpD,MAAM,iCAC1BgD,QAAK,eAAEC,EAAAA,WAAWjB,EAAAA,YAAW,K,mCAG/BxB,EAAAA,EAAAA,IAGS4B,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAFSJ,EAAAA,YAATK,K,WADT7B,EAAAA,EAAAA,IAGS,UAHD4C,KAAK,SAASpD,MAAM,4BACGsC,IAAKD,EAAOW,QAAK,GAAEC,EAAAA,WAAWZ,K,QACxDA,GAAI,Q,MAGiCL,EAAAA,cAAgBA,EAAAA,WAAQ,WADlExB,EAAAA,EAAAA,IAGS,U,MAHD4C,KAAK,SAASpD,MAAM,iCAC1BgD,QAAK,eAAEC,EAAAA,WAAWjB,EAAAA,YAAW,K,0FAarC,GACEtB,OACE,MAAO,CACL2C,aAAc,GACdC,cAAe,GACfC,WAAY,GACZC,SAAU,EACVC,YAAa,EACbC,SAAU,KACVC,aAAc,YAElB,EACAC,WAAY,CACVC,YAAW,IAAEC,mBAAkB,IAAEC,aAAYA,EAAAA,GAE/CC,MAAO,CAAC,aACRpD,QAAS,CAEPqD,sBACEC,KAAKC,MAAMC,YAAYvD,kBACvB,MAAMwD,EAAO,mEACbH,KAAKI,MAAMC,IAAIF,GAAKG,MAAMC,IAExBP,KAAKb,aAAeoB,EAAI/D,KAAKgE,SAC7B,MAAMC,EAAiB,GACvB,IAAIC,EAAe,EACfC,EAAc,EAElBJ,EAAI/D,KAAKgE,SAASI,SAASzC,IAEzB,GAAsB,OAAlB6B,KAAKR,UAAuC,OAAlBrB,EAAKqB,SAAmB,CACpDkB,GAAgB,EAChBC,GAAe,EACf,MAAME,EAAWC,KAAKC,KAAKL,EAAe,EAAG,IAC7C,GAAIG,IAAab,KAAKT,YAAa,CACjC,MAAMyB,EAAa,CACjBxE,KAAM2B,EACNqB,SAAUrB,EAAKqB,SACfyB,QAASJ,GAEXJ,EAAeS,KAAKF,EACtB,CACF,KAAO,CAEL,GAAIhB,KAAKR,WAAarB,EAAKqB,SAAU,CACnCkB,GAAgB,EAChBC,GAAe,EACf,MAAME,EAAWC,KAAKC,KAAKL,EAAe,EAAG,IAC7C,GAAIG,IAAab,KAAKT,YAAa,CACjC,MAAMyB,EAAa,CACjBxE,KAAM2B,EACNqB,SAAUrB,EAAKqB,SACfyB,QAASJ,GAEXJ,EAAeS,KAAKF,EACtB,CACF,CACAG,QAAQC,IAAI,iBACd,CACApB,KAAKC,MAAMC,YAAYjD,iBAAiB,IAG1C+C,KAAKZ,cAAgBqB,EAErBT,KAAKX,WAAa,GAClB,MAAMgC,EAAUP,KAAKC,KAAKJ,EAAc,GACxCX,KAAKV,SAAW+B,EAChB,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAASC,GAAK,EACjCtB,KAAKX,WAAW6B,KAAKI,EACvB,GAEJ,EACAC,WAAWC,GACTxB,KAAKT,YAAciC,CACrB,EAEAC,iBAAiB5F,GACfmE,KAAK0B,QAAQR,KAAM,kBAAiBrF,IACtC,EACA8F,eAAe9F,GACbmE,KAAKC,MAAM2B,mBAAmBjF,kBAC9B,MAAMwD,EAAO,2DACP3D,EAAO,CACXA,KAAM,CACJqF,WAAa,GAAEhG,IACfiG,IAAK,IAGT9B,KAAKI,MAAM2B,KAAK5B,EAAK3D,GAAM8D,MAAMC,IAC/BP,KAAKC,MAAM2B,mBAAmB3E,kBAE9B+C,KAAKgC,MAAM,aACPzB,EAAI/D,KAAKyF,SACXjC,KAAKP,aAAe,YACpBO,KAAKC,MAAMJ,aAAaqC,cAExBlC,KAAKP,aAAe,aACpBO,KAAKC,MAAMJ,aAAaqC,YAC1B,GAEJ,GAEFC,MAAO,CACL5C,cACES,KAAKD,qBACP,EACAP,WACEQ,KAAKD,qBACP,GAEFqC,UACEC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,UAEd,EACAC,UACEzC,KAAKD,sBACL2C,IAAAA,MACF,G,QCzLF,MAAMvF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://recordis/./src/views/LoadingPage.vue","webpack://recordis/./src/views/LoadingPage.vue?d6c0","webpack://recordis/./src/views/ProductList.vue","webpack://recordis/./src/views/ProductList.vue?f54f"],"sourcesContent":["<template>\n  <div id=\"loading\" class=\"d-none top-0 bg-light\"\n   style=\"width:100vw; height:100vh; z-index:10000000;\">\n    <div class=\"position-fixed top-50 start-50 translate-middle\">\n      <img src=\"../assets/images/LOGO/logo1.png\" style=\"width:300px; height:300px\" alt=\"header-img\">\n      <br>\n      <span class=\"fs-2 d-block text-center\">資料載入中</span>\n      <br>\n      <div class=\"progress\" role=\"progressbar\" aria-label=\"Animated striped\"\n       aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n        <div class=\"progress-bar bg-dark progress-bar-striped progress-bar-animated\"\n         style=\"width: 100%\"></div>\n      </div>\n      <!-- <div class=\"spinner-border text-dark mx-auto\"\n         style=\"width: 3rem; height: 3rem;\" role=\"status\"></div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loadingValue: 25,\n    };\n  },\n  methods: {\n    loadingPageShow() {\n      const loading = document.getElementById('loading');\n      loading.classList.remove('d-none');\n    },\n    loadingPageHide() {\n      const loading = document.getElementById('loading');\n      loading.classList.add('d-none');\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingPage.vue?vue&type=template&id=fbace642\"\nimport script from \"./LoadingPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\recordis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- eslint-disable radix -->\n<template>\n  <SpinnerLoadingPage ref=\"spinnerLoadingPage\"></SpinnerLoadingPage>\n  <LoadingPage ref=\"loadingPage\"></LoadingPage>\n  <messageToast ref=\"messageToast\" :messageReceived=\"toastMessage\" style=\"z-index:100\">\n  </messageToast>\n  <div class=\"container my-4\" style=\"max-width:1000px;\">\n    <!-- 麵包屑 -->\n    <p class=\"ms-2 fw-bold\" data-aos=\"fade-right\" data-aos-once=\"true\" data-aos-duration=\"1000\">\n      目前頁面：菜單介紹\n    </p>\n    <!-- 餐點種類篩選 -->\n    <select class=\"ms-2 form-select my-3 shadow-none border-dark\" style=\"width:300px\"\n      aria-label=\"Default select example\" @change=\"categoryFilter\" v-model=\"category\"\n      data-aos=\"fade-right\" data-aos-once=\"true\" data-aos-duration=\"1000\">\n      <option class=\"selected\">全部</option>\n      <option value=\"義大利麵\">義大利麵</option>\n      <option value=\"披薩\">披薩</option>\n      <option value=\"附餐\">附餐</option>\n      <option value=\"甜點\">甜點</option>\n      <option value=\"飲品\">飲品</option>\n    </select>\n    <!-- 餐點卡片 -->\n    <div class=\"row gy-5 gx-xl-0 row-cols-2 row-cols-md-3 mt-1\"\n    data-aos=\"fade-right\" data-aos-once=\"true\" data-aos-duration=\"1000\">\n      <div class=\"col d-flex justify-content-center\" v-for=\"(item) in\n       productsShown\" :key=\"item.id\">\n        <div class=\"card border-dark card-expand\" style=\"width: 18rem;\">\n          <div class=\"card-img-top w-100 overflow-hidden\">\n            <img :src=\"item.data.imageUrl\" class=\"w-100\" alt=\"...\">\n          </div>\n          <div class=\"card-body border-bottom border-dark\">\n            <h5 class=\"card-title\">{{ item.data.title }}</h5>\n            <p class=\"card-text\">{{ item.data.price }}</p>\n          </div>\n          <div class=\"d-flex\" style=\"height:30px;\">\n            <span class=\"d-block text-center text-decoration-none\n              border-end border-dark w-50 lh-lg link-hover\" @click=\"TurnToDetailPage(item.data.id)\"\n              @keyup=\"enter\">詳細資訊</span>\n              <span class=\"d-block text-center text-decoration-none w-50 lh-lg link-hover\"\n               @click=\"QuickAddToCart(item.data.id)\" @keyup=\"plus\">\n                預約外帶\n              </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分頁按鈕 -->\n    <div class=\"w-100 mt-5 d-flex justify-content-center\">\n      <button type=\"button\" class=\"btn mx-1 btn-outline-dark px-2\"\n       @click=\"changePage(currentPage-1)\" v-if=\"currentPage !== 1\">\n        <i class=\"bi bi-chevron-left\"></i>\n      </button>\n      <button type=\"button\" class=\"btn mx-1 btn-outline-dark\"\n       v-for=\"(item) in pagination\" :key=\"item\" @click=\"changePage(item)\">\n        {{ item }}\n      </button>\n      <button type=\"button\" class=\"btn mx-1 btn-outline-dark px-2\"\n       @click=\"changePage(currentPage+1)\" v-if=\"currentPage !== lastPage\">\n        <i class=\"bi bi-chevron-right\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AOS from 'aos';\nimport LoadingPage from './LoadingPage.vue';\nimport SpinnerLoadingPage from './SpinnerLoadingPage.vue';\nimport messageToast from '../components/MessageToast.vue';\n\nexport default {\n  data() {\n    return {\n      productsInfo: [],\n      productsShown: [],\n      pagination: [],\n      lastPage: 1,\n      currentPage: 1,\n      category: '全部',\n      toastMessage: '餐點已加入預訂清單',\n    };\n  },\n  components: {\n    LoadingPage, SpinnerLoadingPage, messageToast,\n  },\n  emits: ['updateQty'],\n  methods: {\n    // 取得商品列表資料\n    getProductsListData() {\n      this.$refs.loadingPage.loadingPageShow();\n      const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_NAME}/products/all`;\n      this.axios.get(api).then((res) => {\n        // 取得所有產品資訊\n        this.productsInfo = res.data.products;\n        const productsEdited = [];\n        let dataNumCount = 0;\n        let productsQty = 0;\n        // 將產品資料加入類別、頁數資訊\n        res.data.products.forEach((item) => {\n          // 類別為\"全部\"，依類別篩選商品\n          if (this.category === '全部' && item.category !== '其他') {\n            dataNumCount += 1;\n            productsQty += 1;\n            const ItemPage = Math.ceil(dataNumCount / 9, 10);\n            if (ItemPage === this.currentPage) {\n              const dataPushed = {\n                data: item,\n                category: item.category,\n                pageNum: ItemPage,\n              };\n              productsEdited.push(dataPushed);\n            }\n          } else {\n          // 類別不是全部，依類別篩選商品\n            if (this.category === item.category) {\n              dataNumCount += 1;\n              productsQty += 1;\n              const ItemPage = Math.ceil(dataNumCount / 9, 10);\n              if (ItemPage === this.currentPage) {\n                const dataPushed = {\n                  data: item,\n                  category: item.category,\n                  pageNum: ItemPage,\n                };\n                productsEdited.push(dataPushed);\n              }\n            }\n            console.log('productsEdited');\n          }\n          this.$refs.loadingPage.loadingPageHide();\n        });\n        // 將編輯完的結果寫回資料庫\n        this.productsShown = productsEdited;\n        // 計算頁數\n        this.pagination = [];\n        const maxPage = Math.ceil(productsQty / 9);\n        this.lastPage = maxPage;\n        for (let i = 1; i <= maxPage; i += 1) {\n          this.pagination.push(i);\n        }\n      });\n    },\n    changePage(newPage) {\n      this.currentPage = newPage;\n    },\n    // 切換到詳細產品資訊頁面\n    TurnToDetailPage(id) {\n      this.$router.push(`/productDetail/${id}`);\n    },\n    QuickAddToCart(id) {\n      this.$refs.spinnerLoadingPage.loadingPageShow();\n      const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_NAME}/cart`;\n      const data = {\n        data: {\n          product_id: `${id}`,\n          qty: 1,\n        },\n      };\n      this.axios.post(api, data).then((res) => {\n        this.$refs.spinnerLoadingPage.loadingPageHide();\n        // 更新 NavBar 的產品數量\n        this.$emit('updateQty');\n        if (res.data.success) {\n          this.toastMessage = '餐點已加入預訂清單';\n          this.$refs.messageToast.toastShow();\n        } else {\n          this.toastMessage = '餐點加入預訂清單失敗';\n          this.$refs.messageToast.toastShow();\n        }\n      });\n    },\n  },\n  watch: {\n    currentPage() {\n      this.getProductsListData();\n    },\n    category() {\n      this.getProductsListData();\n    },\n  },\n  created() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  },\n  mounted() {\n    this.getProductsListData();\n    AOS.init();\n  },\n};\n</script>\n","import { render } from \"./ProductList.vue?vue&type=template&id=117bee50\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\recordis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","style","_createElementVNode","src","_imports_0","alt","role","_hoisted_2","_createElementBlock","_hoisted_1","data","loadingValue","methods","loadingPageShow","loading","document","getElementById","classList","remove","loadingPageHide","add","__exports__","render","_hoisted_3","_hoisted_21","_hoisted_24","_createVNode","_component_SpinnerLoadingPage","ref","_component_LoadingPage","_component_messageToast","messageReceived","$data","onChange","_ctx","_hoisted_10","_Fragment","item","key","_hoisted_11","_hoisted_12","imageUrl","_hoisted_14","_hoisted_15","title","_hoisted_16","price","_hoisted_17","onClick","$options","onKeyup","_hoisted_20","type","productsInfo","productsShown","pagination","lastPage","currentPage","category","toastMessage","components","LoadingPage","SpinnerLoadingPage","messageToast","emits","getProductsListData","this","$refs","loadingPage","api","axios","get","then","res","products","productsEdited","dataNumCount","productsQty","forEach","ItemPage","Math","ceil","dataPushed","pageNum","push","console","log","maxPage","i","changePage","newPage","TurnToDetailPage","$router","QuickAddToCart","spinnerLoadingPage","product_id","qty","post","$emit","success","toastShow","watch","created","window","scrollTo","top","behavior","mounted","AOS"],"sourceRoot":""}