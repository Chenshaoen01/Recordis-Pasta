"use strict";(self["webpackChunkrecordis"]=self["webpackChunkrecordis"]||[]).push([[650],{6576:function(t,s,e){e.d(s,{Z:function(){return h}});var a=e(3396),o=e(1097);const i={id:"loading",class:"d-none top-0 bg-light",style:{width:"100vw",height:"100vh","z-index":"10000000"}},d=(0,a._)("div",{class:"position-fixed top-50 start-50 translate-middle"},[(0,a._)("img",{src:o,style:{width:"300px",height:"300px"},alt:"header-img"}),(0,a._)("br"),(0,a._)("span",{class:"fs-2 d-block text-center"},"資料載入中"),(0,a._)("br"),(0,a._)("div",{class:"progress",role:"progressbar","aria-label":"Animated striped","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"},[(0,a._)("div",{class:"progress-bar bg-dark progress-bar-striped progress-bar-animated",style:{width:"100%"}})])],-1),r=[d];function n(t,s,e,o,d,n){return(0,a.wg)(),(0,a.iD)("div",i,r)}var l={data(){return{loadingValue:25}},methods:{loadingPageShow(){const t=document.getElementById("loading");t.classList.remove("d-none")},loadingPageHide(){const t=document.getElementById("loading");t.classList.add("d-none")}}},c=e(89);const u=(0,c.Z)(l,[["render",n]]);var h=u},8650:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var a=e(3396),o=e(7139);const i={class:"container my-4"},d={class:"fw-bold mx-auto",style:{"max-width":"800px"}},r={class:"d-flex flex-column flex-md-row mx-auto align-items-start",style:{"max-width":"800px"}},n=["src"],l={"data-aos":"fade-right","data-aos-duration":"1000"},c={class:"fw-bold"},u={class:"fw-bold mb-4"},h={class:"fw-bold fs-5 mb-4"},g=(0,a._)("div",{class:"bg-dark mb-4",style:{height:"1px"}},null,-1),p=(0,a._)("h3",{class:"fw-bold mb-4"},"預約餐點",-1),m={class:"d-flex justify-align-start align-items-center"},w=(0,a._)("h4",{class:"fw-bold d-block",style:{width:"100px"}},"數量",-1),f={class:"list-group list-group-horizontal w-100"},x=(0,a._)("span",null,"-",-1),b=[x],v={class:"list-group-item w-25 text-center"},y=(0,a._)("span",null,"+",-1),_=[y],P={class:"mt-5 mb-3 w-100 d-flex justify-content-center"},k=(0,a._)("div",{class:"position-relative",style:{height:"50px"},"data-aos":"zoom-in","data-aos-duration":"1000"},[(0,a._)("div",{class:"bg-dark position-absolute top-50",style:{width:"100%",height:"1px"}}),(0,a._)("span",{class:"bg-white position-absolute start-50 top-50 translate-middle fw-bolder fs-4 text-dark text-center mx-auto px-3"}," 推薦餐點 ")],-1),T={class:"container my-4",style:{"max-width":"1000px"},"data-aos":"fade-right","data-aos-duration":"1000"},L={class:"row g-3 row-cols-1 row-cols-sm-3"},$={class:"card border-dark",style:{width:"18rem"}},D=["src"],C={class:"card-body border-bottom border-dark"},Q={class:"card-title"},S={class:"card-text"},z={class:"d-flex",style:{height:"30px"}},I={class:"d-flex w-100",style:{height:"30px"}},M=["onClick"],H=["onClick"],Z={class:"mt-5 mb-3 w-100 d-flex justify-content-center"};function j(t,s,e,x,y,j){const E=(0,a.up)("SpinnerLoadingPage"),K=(0,a.up)("LoadingPage"),N=(0,a.up)("messageToast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(E,{ref:"spinnerLoadingPage"},null,512),(0,a.Wm)(K,{ref:"loadingPage"},null,512),(0,a.Wm)(N,{ref:"messageToast",messageReceived:y.toastMessage,style:{"z-index":"100"}},null,8,["messageReceived"]),(0,a._)("div",i,[(0,a._)("p",d,"目前頁面：菜單介紹 / "+(0,o.zw)(y.productsDetail.title),1),(0,a._)("div",r,[(0,a._)("img",{src:y.productsDetail.imageUrl,class:"mb-3 me-md-4",alt:"","data-aos":"fade-right","data-aos-duration":"1000",id:"productDetailImg"},null,8,n),(0,a._)("div",l,[(0,a._)("h1",c,(0,o.zw)(y.productsDetail.title),1),(0,a._)("h3",u,(0,o.zw)(y.productsDetail.price),1),(0,a._)("p",h,(0,o.zw)(y.productsDetail.description),1),g,p,(0,a._)("div",m,[w,(0,a._)("ul",f,[(0,a._)("li",{class:"list-group-item link-hover",onClick:s[0]||(s[0]=t=>j.changeQuantity("minus")),onKeyup:s[1]||(s[1]=(...s)=>t.minus&&t.minus(...s))},b,32),(0,a._)("li",v,[(0,a._)("span",null,(0,o.zw)(y.orderQuantity),1)]),(0,a._)("li",{class:"list-group-item link-hover",onClick:s[2]||(s[2]=t=>j.changeQuantity("plus")),onKeyup:s[3]||(s[3]=(...s)=>t.plus&&t.plus(...s))},_,32)])]),(0,a._)("div",P,[(0,a._)("button",{type:"button",class:"btn btn-dark",style:{width:"150px"},onClick:s[4]||(s[4]=(...t)=>j.addToCart&&j.addToCart(...t))},"加入預訂清單")])])])]),k,(0,a._)("div",T,[(0,a._)("div",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.recommandedProducts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col d-flex justify-content-center card-expand",key:e.id},[(0,a._)("div",$,[(0,a._)("img",{src:e.imageUrl,class:"card-img-top",alt:"..."},null,8,D),(0,a._)("div",C,[(0,a._)("h5",Q,(0,o.zw)(e.title),1),(0,a._)("p",S,(0,o.zw)(e.price),1)]),(0,a._)("div",z,[(0,a._)("div",I,[(0,a._)("span",{class:"d-block border-end border-dark text-center text-decoration-none w-50 lh-lg link-hover",onClick:t=>j.turnToDetailPage(e.id),onKeyup:s[5]||(s[5]=(...s)=>t.plus&&t.plus(...s))}," 詳細資訊 ",40,M),(0,a._)("span",{class:"d-block text-center text-decoration-none w-50 lh-lg link-hover",onClick:t=>j.QuickAddToCart(e.id),onKeyup:s[6]||(s[6]=(...s)=>t.plus&&t.plus(...s))}," 預訂餐點 ",40,H)])])])])))),128))])]),(0,a._)("div",Z,[(0,a._)("button",{type:"button",class:"btn btn-dark",style:{width:"150px"},onClick:s[7]||(s[7]=(...t)=>j.turnToProducsList&&j.turnToProducsList(...t))}," 查看所有餐點 ")])],64)}e(7658);var E=e(6905),K=e.n(E),N=e(5382),R=e(6576),q=e(7759),A={data(){return{productsDetail:{},orderQuantity:1,recommandedProductsId:["-NLv3-t7xMq-IJo3w3U0","-NLv5M6uQiOXcEsiLkIu","-NLv092hsFRNH-Rfjeg2"],recommandedProducts:[],toastMessage:"餐點已加入預訂清單"}},components:{LoadingPage:R.Z,SpinnerLoadingPage:N.Z,messageToast:q.Z},emits:["updateQty"],methods:{getProductDetail(){this.$refs.loadingPage.loadingPageShow();const t=this.$route.params.id,s=`https://vue3-course-api.hexschool.io/api/chenshaoen/product/${t}`;this.axios.get(s).then((t=>{this.productsDetail=t.data.product,this.$refs.loadingPage.loadingPageHide()}))},getrecommandedProducts(t){const s=`https://vue3-course-api.hexschool.io/api/chenshaoen/product/${t}`;this.axios.get(s).then((t=>{this.recommandedProducts.push(t.data.product)}))},changeQuantity(t){"minus"===t?this.orderQuantity>1&&(this.orderQuantity-=1):"plus"===t&&(this.orderQuantity+=1)},turnToProducsList(){this.$router.push("/productList")},messageToastShow(){this.$refs.messageToast.toastShow()},addToCart(){this.$refs.spinnerLoadingPage.loadingPageShow();const t="https://vue3-course-api.hexschool.io/api/chenshaoen/cart",s={data:{product_id:this.productsDetail.id,qty:this.orderQuantity}};this.axios.post(t,s).then((t=>{this.$refs.spinnerLoadingPage.loadingPageHide(),this.$emit("updateQty"),t.data.success?(this.toastMessage="餐點已加入預訂清單",this.$refs.messageToast.toastShow()):(this.toastMessage="餐點加入預訂清單失敗",this.$refs.messageToast.toastShow())}))},QuickAddToCart(t){this.$refs.spinnerLoadingPage.loadingPageShow();const s="https://vue3-course-api.hexschool.io/api/chenshaoen/cart",e={data:{product_id:`${t}`,qty:1}};this.axios.post(s,e).then((t=>{this.$refs.spinnerLoadingPage.loadingPageHide(),this.$emit("updateQty"),t.data.success?(this.toastMessage="餐點已加入預訂清單",this.$refs.messageToast.toastShow()):(this.toastMessage="餐點加入預訂清單失敗",this.$refs.messageToast.toastShow())}))},turnToDetailPage(t){this.$route.params.id=t,this.getProductDetail(),this.recommandedProducts=[],this.recommandedProductsId.forEach((t=>{this.getrecommandedProducts(t)}))}},created(){window.scrollTo({top:0,behavior:"smooth"})},mounted(){this.getProductDetail(),this.recommandedProductsId.forEach((t=>{this.getrecommandedProducts(t)})),K().init()}},U=e(89);const W=(0,U.Z)(A,[["render",j]]);var B=W}}]);
//# sourceMappingURL=650.b12655d1.js.map